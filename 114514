local player = game:GetService("Players").LocalPlayer
local gui = Instance.new("ScreenGui")
gui.Name = "PlayerControlGUI"
gui.Parent = player:WaitForChild("PlayerGui")

-- 增大背景尺寸
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0.45, 0, 0.4, 0)  -- 加宽加高
frame.Position = UDim2.new(0.05, 0, 0.6, 0)
frame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
frame.BackgroundTransparency = 0.5
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
frame.Parent = gui

-- 添加最小化按钮
local minimizeBtn = Instance.new("TextButton")
minimizeBtn.Size = UDim2.new(0.15, 0, 0.15, 0)
minimizeBtn.Position = UDim2.new(0.85, 0, 0, 0)
minimizeBtn.Text = "-"
minimizeBtn.TextColor3 = Color3.new(1, 1, 1)
minimizeBtn.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
minimizeBtn.TextSize = 18
minimizeBtn.Parent = frame

local title = Instance.new("TextLabel")
title.Size = UDim2.new(0.7, 0, 0.15, 0)
title.Position = UDim2.new(0.05, 0, 0, 0)
title.Text = "制作脚本示例(经过修改)"
title.TextColor3 = Color3.new(1, 1, 1)
title.TextSize = 18  -- 增大字体
title.BackgroundTransparency = 1
title.Parent = frame

-- 速度控制区域
local speedFrame = Instance.new("Frame")
speedFrame.Size = UDim2.new(1, 0, 0.25, 0)
speedFrame.Position = UDim2.new(0, 0, 0.2, 0)
speedFrame.BackgroundTransparency = 1
speedFrame.Parent = frame

local speedLabel = Instance.new("TextLabel")
speedLabel.Size = UDim2.new(0.4, 0, 1, 0)
speedLabel.Text = "速度: 16"
speedLabel.TextColor3 = Color3.new(1, 1, 1)
speedLabel.TextSize = 18  -- 增大字体
speedLabel.BackgroundTransparency = 1
speedLabel.Parent = speedFrame

local increaseSpeedBtn = Instance.new("TextButton")
increaseSpeedBtn.Size = UDim2.new(0.25, 0, 0.8, 0)
increaseSpeedBtn.Position = UDim2.new(0.45, 0, 0.1, 0)
increaseSpeedBtn.Text = "+"
increaseSpeedBtn.TextColor3 = Color3.new(1, 1, 1)
increaseSpeedBtn.TextSize = 18  -- 增大字体
increaseSpeedBtn.BackgroundColor3 = Color3.fromRGB(0, 120, 0)
increaseSpeedBtn.Parent = speedFrame

local decreaseSpeedBtn = Instance.new("TextButton")
decreaseSpeedBtn.Size = UDim2.new(0.25, 0, 0.8, 0)
decreaseSpeedBtn.Position = UDim2.new(0.75, 0, 0.1, 0)
decreaseSpeedBtn.Text = "-"
decreaseSpeedBtn.TextColor3 = Color3.new(1, 1, 1)
decreaseSpeedBtn.TextSize = 18  -- 增大字体
decreaseSpeedBtn.BackgroundColor3 = Color3.fromRGB(120, 0, 0)
decreaseSpeedBtn.Parent = speedFrame

-- 跳跃控制区域
local jumpFrame = Instance.new("Frame")
jumpFrame.Size = UDim2.new(1, 0, 0.25, 0)
jumpFrame.Position = UDim2.new(0, 0, 0.45, 0)
jumpFrame.BackgroundTransparency = 1
jumpFrame.Parent = frame

local jumpLabel = Instance.new("TextLabel")
jumpLabel.Size = UDim2.new(0.4, 0, 1, 0)
jumpLabel.Text = "跳跃: 7"  -- 根据截图改为7
jumpLabel.TextColor3 = Color3.new(1, 1, 1)
jumpLabel.TextSize = 18  -- 增大字体
jumpLabel.BackgroundTransparency = 1
jumpLabel.Parent = jumpFrame

local increaseJumpBtn = Instance.new("TextButton")
increaseJumpBtn.Size = UDim2.new(0.25, 0, 0.8, 0)
increaseJumpBtn.Position = UDim2.new(0.45, 0, 0.1, 0)
increaseJumpBtn.Text = "+"
increaseJumpBtn.TextColor3 = Color3.new(1, 1, 1)
addressJumpBtn.TextSize=18--增大字体
creaseJumpBtn.BackgroundColor3=Color3.fromRGB(0，0，120)
increaseJumpBtn.Parent=跳转帧

本地decroleJumpBtn=Instance.new("TextButton")
droposeJumpBtn.Size=UDim2.new(0.25，0，0.8，0)
droposeJumpBtn.Position=UDim2.new(0.75，0，0.1，0)
dressionJumpBtn.Text="-"
droposeJumpBtn.TextColor3=Color3.new(1，1，1)
droposeJumpBtn.TextSize=18--增大字体
droposeJumpBtn.BackgroundColor3=Color3.fromRGB(120，0，120)
droposeJumpBtn.Parent=跳转帧

-- 穿墙控制区域
本地noclipFrame=Instance.new("Frame")
noclipFrame.Size=UDim2.new(1，0，0.2，0)
noclipFrame.Position=UDim2.new(0，0，0.7，0)
noclipFrame.BackgroundTransparency=1
noclipFrame.Parent=frame

本地noclipBtn=Instance.new("TextButton")
noclipBtn.Size=UDim2.new(0.8，0，0.8，0)
noclipBtn.Position=UDim2.new(0.1，0，0.1，0)
noclipBtn.Text="穿墙：关闭"
noclipBtn.TextColor3=Color3.new(1，1，1)
noclipBtn.TextSize=18--增大字体
noclipBtn.BackgroundColor3=Color3.fromRGB(120，0，0)
noclipBtn.Parent=noclipFrame

--获取类人的
本地类人=玩家。角色和运动员。字符：FindFirstChildOfClass("Humanoid")或运动员。添加的Character:Wait()：WaitForChild("Humanoid")
局部行走速度=人形行走速度
局部跳跃高度=类人跳跃高度

-- 更新显示函数
本地函数updateSpeedDisplay()
speedLabel.Text="速度："..Math.floor(walkspeed)
结束

本地函数updateJumpDisplay()
jumpLabel.Text="跳跃："..Math.floor(JumpHeight)
结束

-- 按钮功能
addressSpeedBtn.鼠标按钮1单击：连接(函数()
walkspeed=math.min(walkspeed+5，100)
人形.WalkSpeed=步行速度
updateSpeedDisplay()
结束)

downEspeedBtn.鼠标按钮1单击：连接(函数()
walkspeed=math.max(walkspeed-5，16)
人形.WalkSpeed=步行速度
updateSpeedDisplay()
end)

增加JumpBtn。鼠标按钮1单击：连接(函数()
JumpHeight=math.min(JumpHeight+5，100)
humanoid.JumpHeight=JumpHeight
updateJumpDisplay()
end)

downEJumpBtn.MouseButton1Click:Connect(function()
JumpHeight=math.max(JumpHeight-5，0)
humanoid.JumpHeight=JumpHeight
updateJumpDisplay()
end)

-- 穿墙功能
局部noclip=false
局部noclipConnection

局部函数noclipLoop()
如果播放器.字符，则
对于_，ipairs中的part(player.Character:GetDescendants())do
如果零件：Isa(“BasePart”)和零件.可以碰撞，则
part.CanCollide=非夹片
结束
结束
结束
结束

noclipBtn.鼠标按钮1单击：连接(函数()
n夹=非n夹
如果没有夹子，那么
noclipBtn.Text="穿墙：开启"
        noclipBtn.BackgroundColor3 = Color3.fromRGB(0, 120, 0)
        noclipConnection = game:GetService("RunService").Stepped:Connect(noclipLoop)
    else
        noclipBtn.Text = "穿墙: 关闭"
        noclipBtn.BackgroundColor3 = Color3.fromRGB(120, 0, 0)
        if noclipConnection then
            noclipConnection:Disconnect()
        end
    end
end)

-- 最小化功能
local isMinimized = false
local originalSize = frame.Size
local minimizedSize = UDim2.new(0.15, 0, 0.15, 0)

minimizeBtn.MouseButton1Click:Connect(function()
    isMinimized = not isMinimized
    if isMinimized then
        frame.Size = minimizedSize
        minimizeBtn.Text = "+"
        speedFrame.Visible = false
        jumpFrame.Visible = false
        noclipFrame.Visible = false
        title.Text = "控制"
    else
        frame.Size = originalSize
        minimizeBtn.Text = "-"
        speedFrame.Visible = true
        jumpFrame.Visible = true
        noclipFrame.Visible = true
        title.Text = "制作脚本示例(经过修改)"
    end
end)

-- 角色重生处理
player.CharacterAdded:Connect(function(character)
    humanoid = character:WaitForChild("Humanoid")
    humanoid.WalkSpeed = walkSpeed
    humanoid.JumpHeight = JumpHeight
    if noclip then
        noclipLoop()
    end
end)

-- 初始化显示
updateSpeedDisplay()
updateJumpDisplay()

-- 移动端适配
if game:GetService("UserInputService").TouchEnabled then
    frame.Size = UDim2.new(0.5, 0, 0.45, 0)  -- 移动端更大尺寸
    minimizeBtn.Size = UDim2.new(0.2, 0, 0.2, 0)
    minimizeBtn.TextSize = 22
    title.TextSize = 22
    speedLabel.TextSize = 20
    jumpLabel.TextSize = 20
    noclipBtn.TextSize = 20
    increaseSpeedBtn.TextSize = 20
    decreaseSpeedBtn.TextSize = 20
    increaseJumpBtn.TextSize = 20
    decreaseJumpBtn.TextSize = 20
end
